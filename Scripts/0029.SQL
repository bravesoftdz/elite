/* ALTERAÁ’ES PARA RELAT”RIOS */

create view REL_PAGO_RECEBIDO (
       CODIGO,
       CODMOVIMENTO,
       NUMERO,
       ES,
       DESCRICAO,
       VALOR,
       DESCONTO,
       MULTA_JUROS,
       TOTAL_PAGO,
       DATAPAGO,
       INFODOC,
       DOCUMENTO,
       CODEMPRESA,
       NOMEUSUARIO )
as
SELECT PAGAMENTOS.CODIGO, 
       PAGAMENTOS.CODMOVIMENTO, 
       PAGAMENTOS.NUMERO,
       PAGAMENTOS.ES,
       PAGAMENTOS.DESCRICAO,
       PAGAMENTOS.VALOR, 
       PAGAMENTOS.DESCONTO,
       PAGAMENTOS.MULTA_JUROS,
       PAGAMENTOS.TOTAL_PAGO,
       CAST(PAGAMENTOS.DATAPAGO AS DATE),
       PAGAMENTOS.INFODOC,
       DOCUMENTOS.DOCUMENTO, 
       PAGAMENTOS.CODEMPRESA,
       PAGAMENTOS.NOMEUSUARIO
FROM
       PAGAMENTOS PAGAMENTOS
       LEFT OUTER JOIN DOCUMENTOS DOCUMENTOS ON
         (DOCUMENTOS.CODIGO = PAGAMENTOS.CODDOCUMENTO)
WHERE
       PAGAMENTOS.ES = 2 AND
       PAGAMENTOS.PAGO = 1!

GRANT SELECT ON REL_PAGO_RECEBIDO TO PUBLIC!

CREATE VIEW REL_PAGAR_RECEBER(
    CODIGO,
    CODMOVIMENTO,
    NUMERO,
    ES,
    DESCRICAO,
    VALOR,
    DATAVENCIMENTO,
    INFODOC,
    DOCUMENTO,
    CODEMPRESA)
AS
SELECT PAGAMENTOS.CODIGO, 
       PAGAMENTOS.CODMOVIMENTO, 
       PAGAMENTOS.NUMERO,
       PAGAMENTOS.ES,
       PAGAMENTOS.DESCRICAO,
       PAGAMENTOS.VALOR, 
       PAGAMENTOS.DATAVENCIMENTO, 
       PAGAMENTOS.INFODOC,
       DOCUMENTOS.DOCUMENTO, 
       PAGAMENTOS.CODEMPRESA
FROM
       PAGAMENTOS PAGAMENTOS
       LEFT OUTER JOIN DOCUMENTOS DOCUMENTOS ON
         (DOCUMENTOS.CODIGO = PAGAMENTOS.CODDOCUMENTO)
WHERE
       PAGAMENTOS.ES = 2 AND
       PAGAMENTOS.PAGO = 0!

GRANT SELECT ON REL_PAGAR_RECEBER TO PUBLIC!