/*
** CENTRO DE CUSTO / LUCRO
*/

SET TERM !;

CREATE DOMAIN TIPOCENTRO_VALIDO CHAR(1) DEFAULT 'L' NOT NULL
  CHECK (VALUE IN ('L', 'C'))!

CREATE TABLE CENTROS (
   CODIGO       INTEIRO_VALIDO,
   DESCRICAO    STR40_VALIDO,
   TIPO         TIPOCENTRO_VALIDO,
   CONSTRAINT   CENTROS_PK
   PRIMARY KEY  (CODIGO)
)!

GRANT ALL ON CENTROS TO PUBLIC!

CREATE UNIQUE INDEX CENTROS_U01 ON CENTROS(DESCRICAO, TIPO)!

INSERT INTO
  CENTROS (
    CODIGO,
    DESCRICAO,
    TIPO
  ) 
  VALUES (
    1,
    'VENDAS',
    'L'
)!
  
INSERT INTO
  SEQUENCIA (
    CODIGO,
    TABELA,
    SEQUENCIA
  )
  VALUES (
    41,
    'CENTROS',
    2
)!

INSERT INTO
  CENTROS (
    CODIGO,
    DESCRICAO,
    TIPO
  ) 
  VALUES (
    2,
    'COMPRAS',
    'C'
)!

UPDATE
  SEQUENCIA
SET
  SEQUENCIA = 3
WHERE
  CODIGO = 41!
  
INSERT INTO SCRIPTVER(NUMERO, DATA) VALUES (117, CURRENT_TIMESTAMP)!