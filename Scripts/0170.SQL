/*
** TABELA DE PATRIMONIO
*/

CREATE TABLE PATRIMONIO(
    CODIGO INTEIRO_VALIDO NOT NULL,
    DESCRICAO STR60_VALIDO,
    DATAAQUISICAO DATADIA_VALIDA,
    DATACADAST DATADIA_VALIDA,
    CODFORNECEDOR INTEIRO_VALIDO,
    VALOR DINHEIRO,
    DEPRECIACAO PORCENTO);

ALTER TABLE PATRIMONIO
ADD CONSTRAINT PATRIMONIO_PK
PRIMARY KEY (CODIGO);

GRANT ALL ON PATRIMONIO TO PUBLIC;

CREATE UNIQUE INDEX PATRIMONIO_IDX1
ON PATRIMONIO (DESCRICAO,DATAAQUISICAO);

ALTER TABLE PATRIMONIO
ADD CONSTRAINT PATRIMONIO_FK01
FOREIGN KEY (CODFORNECEDOR)
REFERENCES CLIENTES(CODIGO)
ON UPDATE CASCADE;

INSERT INTO SEQUENCIA (CODIGO, TABELA, SEQUENCIA) VALUES (46, 'PATRIMONIO', 10);

INSERT INTO SCRIPTVER(NUMERO, DATA) VALUES (170, CURRENT_TIMESTAMP);
COMMIT;
